<h1 align="center">TAPA</h1>

<br />

<p align="center">
 <b>üèÜ 2022 received the Minister of Science and ICT Award üèÜ</b>
</p>
<p align="center">
    <img src="assets/TAPAexplain.gif" width="70%" />
</p>

<p align="center">
	<a href="https://tapa-1.gitbook.io/tapa-./">
		<img src="/assets/GITBOOK Button.png" width="220" height="45"/>
	</a>
	<a href="https://www.notion.so/oxcarxierra/OSAM-c776ec4881834059bac27abebb713d3a">
		<img src="/assets/NOTION Button.png" width="220" height="45"/>
	</a>
</p>

<p align="center">
	<a href="https://github.com/osamhack2022-v2/APP_TAPA_T.I.P/search?l=TSX&type=code"><img alt="GitHub language count" src="https://img.shields.io/github/languages/count/osamhack2022-v2/APP_TAPA_T.I.P"></a>
	<a href="https://github.com/osamhack2022-v2/APP_TAPA_T.I.P/graphs/contributors"><img alt="GitHub contributors" src="https://img.shields.io/github/contributors/osamhack2022-v2/APP_TAPA_T.I.P"></a>
	<a href="https://github.com/osamhack2022-v2/APP_TAPA_T.I.P/stargazers"><img alt="GitHub stars" src="https://img.shields.io/github/stars/osamhack2022-v2/APP_TAPA_T.I.P"></a>
	<a href="https://github.com/osamhack2022-v2/APP_TAPA_T.I.Pn/network"><img alt="GitHub forks" src="https://img.shields.io/github/forks/osamhack2022-v2/APP_TAPA_T.I.P"></a>
	<a href="https://github.com/osamhack2022-v2/APP_TAPA_T.I.P/blob/master/LICENSE"><img alt="GitHub license" src="https://img.shields.io/github/license/osamhack2022-v2/APP_TAPA_T.I.P"></a>
</p>

<br/><br/>

# Î™©Ï∞®

<details open="open">
  <ol>
    <li><a href="#overview"> ‚óà Overview </a></li>
    <li><a href="#features"> ‚óà Feature Sketching </a></li>
    <li><a href="#benefits"> ‚óà Military, Before TAPA and After TAPA </a></li>
    <li><a href="#userflow"> ‚óà User Flow </a></li>
    <li><a href="#progress"> ‚óà Our Collaboration Process </a></li>   
    <li><a href="#prerequisites"> ‚óà Prerequisites </a></li>
    <li><a href="#stacks"> ‚óà Techniques Used </a></li>
    <li><a href="#install"> ‚óà Getting Started </a></li>
    <li><a href="#team"> ‚óà Team Information </a></li>
    <li><a href="#license"> ‚óà Copyleft / End User License </a></li>
  </ol>
</details>

<br/><br/>

<h1 id="overview"> :monocle_face: 1. Overview </h1>

> TAPA is an AI-powered **Barracks Incident Prediction** and prevention solution.

<p align="center">
	<img src="/assets/Mockup.png" width="100%"/>
</p>

<br/>

### üåª Motivation for development

News that three years ago a classmate took his own life [due to barracks inadequacies and excessive on-call stress in the army](https://www.joongang.co.kr/article/25077377#home)made headlines a few months ago, and it made me realise that **barracks accidents aren't something far away, they can happen really close to home**.

We wanted to prevent barracks incidents by anticipating and acting on absurdities and abusive behaviour _so that these horrific incidents never happen again_.

<p align="center">
	<img src="/assets/reason_develop.JPG" width="100%"/>
</p>

<br/>

### :earth_africa: Development background

<p align="center">
	<img src="/assets/motive_develop.JPG" width="100%"/>
</p>

<br/>

### :rocket: Our Mission

The mission of our TAPA project and app is to "reduce human casualties through the efficient prevention and response to barracks misconduct that threatens the security and health of soldiers".

<br/><br/>

<h1 id="features"> :iphone: 2. Feature Sketching </h1>

### Sign up

- Enter your name / nickname / email / password / military number / rank / branch / unit / enlistment date / retirement date.
  <img src="assets/signup.gif" width="80%" />

<br/>

### Main Feature

Every feature in **TAPA** is designed to achieve one or more of three goals

‚óà Scroll down for a rough UI/UX sketch, and click on the blue text (link) for a more detailed description in Gitbook.

> **First**, to *effectively deal with injustice* by helping a soldier who has suffered an injustice, whether it be an injustice or an atrocity,

- [Ability to connect with your peer community](https://tapa-1.gitbook.io/tapa-./features/undefined-1)
- [Expert advice and matching, direct mail capabilities](https://tapa-1.gitbook.io/tapa-./features/dm)

> **Second**, to *predict and prevent barracks incidents* based on the data collected,

- [AI-powered penalty prediction service](https://tapa-1.gitbook.io/tapa-./features/ai)
- [Multi-sentiment analysis service using NLP](https://tapa-1.gitbook.io/tapa-./features/nlp)

> **Third**, it's about *managing the mental health of soldiers* at the military level and encouraging them to use the app.

- [Statistics and leaderboard visualisation services](https://tapa-1.gitbook.io/tapa-./features/undefined-2)
- [Ability to incentivise app usage](https://tapa-1.gitbook.io/tapa-./features/point)

<br/>

<img src="assets/interface1.png" width="100%" />
<br/>
<img src="assets/interface2.png" width="100%" />
<br/>
<img src="assets/interface3.png" width="100%" />
<br/>
<img src="assets/interface4.png" width="100%" />

<br/><br/>

<h1 id="benefits"> ‚öîÔ∏è 3. Military, Before TAPA and After TAPA </h1>

### What to expect

- **Predicting and preventing barracks absurdities**

  - Help soldiers with AI-powered risk and expected discipline predictions
  - Text alerts to experts as soon as a high-risk post / AI consultation result occurs
  - Military law guides provide soldiers with easy-to-understand and familiarity with relevant military laws with high barriers to entry

- **Increased intra-military communication**

  - Leveraging communities to bond through shared experiences, comfort, and empathy for each other's illnesses
  - Use tags to help you find similar cases
  - One-to-one consultations with experts (counsellors, lawyers) to create a warm atmosphere of communication
  - Incentivise active engagement with the TAPA points system
  
- **Improve and monitor warrior mental health and get practical and emotional support** 

  - Lots of AI/counselling/community posts about absurdity available
  - Visualise leaderboards, such as accident-free rankings, to motivate you to fight absurdity
  - Provide a range of statistical data to military officials
  <br/>

### Competitiveness

- **Deliver customisable features**

  - AI predictive services that give soldiers in urgent need a result in less than a minute.
  - For soldiers who want to find and empathise with others who have had similar experiences, you can use the community services on the
  - Counselling and DM services are available for soldiers who need professional help to resolve issues.
  - An all-in-one application with all the features you need, plus more
  
- **Great UI/UX**

  - Provide an intuitive and catchy UI for each page instead of a stiff and unattractive UI
  - Tone-on-tone colour matching for psychological comfort
  - Deliver a unique community experience that analyses the sentiment of posts like nowhere else

- **Open Source**

  - Going beyond open source development documentation to reveal detailed workflows through Gitbooks and Notion pages
  - Disclose specific planning process using API documentation, DB Diagram, I.A, Prototype, etc.

- **Send a clear message** 

  - A team of passionate individuals who want to solve military problems with a goal beyond winning competitions.
  - A project to honour and never forget the memory of the late Private Cho Joon-woo and many other soldiers of the Korean Armed Forces who turned their backs on life at the prime of their lives due to a barracks accident.
  - Set a mission, vision and then develop and modify features to align with it
  <br/>

### Use Cases / Future Expansion

- **Open source NLP, AI models**

  - Full model and code available via Notion page
  - Gitbook page to showcase data collection, processing, and preprocessing
  
- **Expanding the Military Law Guide**

  - Provide military guidance on past similar cases, penalties, and reported cases envisioned at the beginning of the project
  - 1303, absurdity data reported in letters of the heart, etc.

- **Future expansion of the MLOps field**

  - TAPA AI Risk Estimation Analytics Service / Get new datasets with real-world results
  - Re-train your model with the dataset you have and improve model performance
  - Create alerts and automation tools to automatically retrain models

<br/><br/>

<h1 id="userflow"> :bulb: 4. User Flow </h1>

### User Flow Chart

<br/>

<p align="center">
	<img src="/assets/UserMap.jpg" width="100%"/>
</p>

<br/><br/>

<h1 id="progress"> :clipboard: 5. Our Collaboration Process </h1>

‚óà Click on the photo to see a larger version of the original image, or on the blue text to see the link.

<table align="center">
    <tbody>
	<tr>
   	    <td width="50%">
	    	<h4 align="center"><img src="/assets/IA.png" width="95%" height="95%">
		<br><br><a href="https://docs.google.com/spreadsheets/d/1zp-69nqf8FW6XucL7nF_fgEJ4Tz38R_EyGi1Nn9n1DE/edit?usp=sharing">I.A(Information Architecture)</a></h4>
	    </td>
   	    <td width="50%">
	    	<h4 align="center"><img src="/assets/slack.png" width="95%" height="95%">
		<br><br><a href="https://tapa22.slack.com/">Communicate via Slack</a></h4>
	    </td>
    	</tr>
	<tr>
   	    <td width="50%">
	    	<p align="center">We used Google Spreadsheets to create a planning structure for my initial app.</p>
	    </td>
   	    <td width="50%">
	    	<p align="center">Using Slack, we established communication channels for each of the ML/Front/Back/Design disciplines, and everyone on the team worked together in a collaborative manner to feedback and support each other's work.</p>
	    </td>
    	</tr>
	<tr>
   	    <td width="50%">
	    	<h4 align="center"><img src="/assets/figma.png" width="95%" height="95%">
		<h4 align="center"><img src="/assets/figma2.png" width="95%" height="95%">
		<br><br><a href="https://www.figma.com/file/g7vSDk24I0zirYffGMAA3Z/TAPA-UI%2FUX?node-id=1441%3A585">UI/UX Wire Frame</a></h4>
	    </td>
   	    <td width="50%">
	    	<h4 align="center"><img src="/assets/kanban.png" width="100%" height="80%">
		<br><br><br><a href="https://www.notion.so/oxcarxierra/TO-DO-Lists-819ccd9a5a724bcebd801ef0e28f7df3">Kanban board</a></h4>
	    </td>
    	</tr>
	<tr>
   	    <td width="50%">
	    	<p align="center">I used Figma to design prototypes and wireframes of the UI/UX that would become the skeleton of the app.</p>
	    </td>
   	    <td width="50%">
	    	<p align="center">We used Notion's Kanban board to visualise our work in progress. We worked on a given problem in sprints, usually one to two weeks in length</p>
	    </td>
    	</tr>
	<tr>
   	    <td width="50%">
	    	<h4 align="center"><img src="/assets/dbdiagram.png" width="95%" height="95%">
		<br><br><br><br><br><a href="https://dbdiagram.io/d/6329c9c50911f91ba5f5095b/?utm_source=dbdiagram_embed&utm_medium=bottom_open">Database Design</a></h4>
	    </td>
   	    <td width="50%">
	    	<h4 align="center"><img src="/assets/apidocument.png" width="95%" height="95%">
		<br><br><a href="https://www.notion.so/oxcarxierra/API-Documentation-098de65b04484c35a5e810595cc96db5">API Documantion</a></h4>
	    </td>
    	</tr>
	<tr>
   	    <td width="50%">
	    	<p align="center">We used dbdiagram.io to draw an Entity Relationship Diagram to visualise the database configuration.</p>
	    </td>
   	    <td width="50%">
	    	<p align="center">To ensure seamless front-to-back collaboration, we created the Notion API Documentation page to document the list of APIs we needed as we developed.</p>
	    </td>
    	</tr>
	<tr>
   	    <td width="50%">
	    	<h4 align="center"><img src="/assets/githubactions.png" width="95%" height="95%">
		<br><br><a href="https://github.com/osamhack2022/APP_TAPA_T.I.P/actions">Automate server deployments</a></h4>
	    </td>
   	    <td width="50%">
	    	<h4 align="center"><img src="/assets/apitest.png" width="95%" height="95%">
		<br><br><a href="https://www.postman.com/restless-equinox-690545-1/workspace/tapa-tip/request/12977747-a87ac77d-93b4-4e4e-b233-85661eab7f48">API Test</a></h4>
	    </td>
    	</tr>
	<tr>
   	    <td width="50%">
	    	<p align="center">We've linked Github Actions with Google Cloud via main.yml, so that we don't have to manually deploy our backend code to the server, but can instead make a push or pull request to the `server` branch and it will automatically deploy to the server. </p>
	    </td>
   	    <td width="50%">
	    	<p align="center">It helps you verify and test that the APIs you've developed are working, and you can verify that they work from anywhere, front and back.</p>
	    </td>
    	</tr>
	<tr>
   	    <td width="50%">
	    	<h4 align="center"><img src="/assets/expo-pr.png" width="95%" height="95%">
		<br><br><a href="https://github.com/osamhack2022/APP_TAPA_T.I.P/actions">EXPO Build Automation</a></h4>
	    </td>
   	    <td width="50%">
	    	<h4 align="center"><img src="/assets/lint.png" width="95%" height="95%">
		<br><br><a href="https://github.com/osamhack2022/APP_TAPA_T.I.P/actions">ESLint Automation</a></h4>
	    </td>
    	</tr>
	<tr>
   	    <td width="50%">
	    	<p align="center">We implemented CI/CD builds by leveraging Github Actions to automatically run Expo build commands to automatically build for every PR, allowing us to demo the most recent or the version of the frontend we wanted to show in the PR via the Expo Go Client.</p>
	    </td>
   	    <td width="50%">
	    	<p align="center">To facilitate code style uniformity, we've embedded ESLint into our CI/CD process.</p>
	    </td>
    	</tr>	
    </tbody>
</table>

<br/><br/>

<h1 id="prerequisites"> :desktop_computer: 6. Prerequisites </h1>

- Use an ECMAScript 6-enabled browser
- Recommended: Google Chrome version 77 or higher

<br/><br/>

<h1 id="stacks"> :octocat: 7. Techniques Used </h1>

<br />
<img src="/assets/TechStacks.png" width="100%"/>
<br />

### Front-end

<img src="https://img.shields.io/badge/React Native-0.69.6-61DAFB.svg?style=for-the-badge&logo=react&logoColor=white">
<img src="https://img.shields.io/badge/React Navigation-6.4.0-ffffff.svg?style=for-the-badge&logoColor=white">
<img src="https://img.shields.io/badge/React Query-4.12.0-FF4154.svg?style=for-the-badge&logo=react-query&logoColor=white">
<img src="https://img.shields.io/badge/Expo-46.0.9-000020.svg?style=for-the-badge&logo=expo&logoColor=white">
<img src="https://img.shields.io/badge/Dotenv-16.0.2-ECD53F.svg?style=for-the-badge&logo=.env&logoColor=white">
<img src="https://img.shields.io/badge/Axios-0.27.2-5A29E4.svg?style=for-the-badge&logo=axios&logoColor=white">
<img src="https://img.shields.io/badge/Jotai-1.8.4-ffffff.svg?style=for-the-badge&logoColor=white">
<img src="https://img.shields.io/badge/Emotion-11.10.4-ffffff.svg?style=for-the-badge&logoColor=white">
<img src="https://img.shields.io/badge/Firebase-9.10.0-FFCA28.svg?style=for-the-badge&logo=firebase&logoColor=white">

<br/>

### Server(Back-end)

<img src="https://img.shields.io/badge/Google Cloud-4285F4?style=for-the-badge&logo=Google Cloud&logoColor=white"/> You have deployed an API server using App Engine in Google Cloud. The server URL is https://tapa-tip.du.r.appspot.com/.

<img src="https://img.shields.io/badge/Gunicorn-499848?style=for-the-badge&logo=Gunicorn&logoColor=white"/>  We used Gunicorn to deploy the AI code to the provided VM server. The server URL is http://20.214.182.219:8080.

<img src="https://img.shields.io/badge/Flask-000000?style=for-the-badge&logo=flask&logoColor=white"/>
<img src="https://img.shields.io/badge/Github Actions-2088FF?style=for-the-badge&logo=githubactions&logoColor=white"/>

<br/>

### ML

<img src="https://img.shields.io/badge/PyTorch-%23EE4C2C.svg?style=for-the-badge&logo=PyTorch&logoColor=white">
<img src="https://img.shields.io/badge/TensorFlow-%23FF6F00.svg?style=for-the-badge&logo=TensorFlow&logoColor=white">
<img src="https://img.shields.io/badge/Keras-%23D00000.svg?style=for-the-badge&logo=Keras&logoColor=white">
<img src="https://img.shields.io/badge/KOBERT-%23150458.svg?style=for-the-badge">

<br/>

### Co-working Tools

<img src="https://img.shields.io/badge/Github-181717?style=for-the-badge&logo=github&logoColor=white">
<img src="https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=notion&logoColor=white">
<img src="https://img.shields.io/badge/Slack-4A154B?style=for-the-badge&logo=slack&logoColor=white">
<img src="https://img.shields.io/badge/Figma-F24E1E?style=for-the-badge&logo=figma&logoColor=white">


<br/><br/>

<h1 id="install"> :hammer_and_wrench: 8.Getting Started </h1>

### Download and package installation instructions

### Environment Variables 

```
FIREBASE_API_KEY=<firebase api key>
FIREBASE_AUTH_DOMAIN=<firebase auth domain>
FIREBASE_DATABASE_URL=<firebase db url>
FIREBASE_STORAGE_BUCKET=<firebase storage bucket url>
FLASK_SECRET_KEY=<secret key for flask sessions>
CLASSIFIER_SERVER_URL=<AI Backend server url>
ADMIN_ACCOUNT_EMAIL=<email for an account created for administrative purposes>
ADMIN_ACCOUNT_PASSWORD=<password for admin account>
```

<br/>

### APP Frontend

```console
$ git clone https://github.com/osamhack2022-v2/APP_TAPA_T.I.P.git
$ cd APP(FE)
$ yarn or npm install
$ touch .env
$ vim .env # Save the environment variables described above
$ npx expo start
```

<br/>

### APP Backend

```console
$ git clone https://github.com/osamhack2022-v2/APP_TAPA_T.I.P.git
$ vim ~/.bashrc # Add the environment variables described above. The name of the rc file may vary depending on your shell.
$ cd APP(BE)
$ python3 -m venv env
$ . env/bin/activate
$ pip install -r requirements.txt
$ python app.py
```

<br/>

### AI Backend

```console
$ git clone https://github.com/osamhack2022-v2/APP_TAPA_T.I.P.git
$ vim ~/.bashrc # Add the environment variables described above. The name of the rc file may vary depending on your shell.
$ cd AI(BE)
$ python3 -m venv env
$ . env/bin/activate
$ pip install -r requirements.txt
$ python app.py
```

<br/><br/>

<h1 id="team"> :family_man_man_girl_boy: 9. ÌåÄ Ï†ïÎ≥¥ (Team Information) </h1>
<br/>

|  ÌåÄÏõê  |         ÏÜåÏÜç          |     Ïó≠Ìï†     |     GitHub     |         Email         |
| :----: | :-------------------: | :----------: | :------------: | :-------------------: |
| Ïù¥Ïû¨Ìõà |  Íµ≠Íµ∞ÏßÄÌúòÌÜµÏã†ÏÇ¨Î†πÎ∂Ä   |    PM, ML    | jaehoonlee0829 |    xrong@naver.com    |
| Ïò§ÏäπÏÑù | Ï£ºÌïúÎØ∏8Íµ∞ÌïúÍµ≠Íµ∞ÏßÄÏõêÎã® |   Frontend   |  oxcarxierra   | oxcarxierra@gmail.com |
| ÏµúÏö©Ìõà |      Í≥µÍµ∞ 2Ïó¨Îã®       | UI/UX Design |    ygr4789     | yonghunjoe@gmail.com  |
| ÎØºÍ±∞Ìôç | Ï£ºÌïúÎØ∏8Íµ∞ÌïúÍµ≠Íµ∞ÏßÄÏõêÎã® |   Backend    |  placidmoon1   | placidmoon1@gmail.com |
| ÏûÑÏ†ïÏö∞ |      Ïú°Íµ∞ 15ÏÇ¨Îã®      |   Backend    |   realizedd    | themcman12@gmail.com  |
| Ïã†ÏùÄÏàò |  Ïú°Íµ∞ Ï†ú2ÏûëÏ†ÑÏÇ¨Î†πÎ∂Ä   |   Frontend   |     esinx      |     me@esinx.net      |
| Ïù¥ÎØºÏÑù |    Í≥µÍµ∞ ÏûëÏ†ÑÏÇ¨Î†πÎ∂Ä    |   Frontend   |    mscwrd02    | ehdtodvodl@naver.com  |

<br/><br/>

<h1 id="license"> :scroll: 10.Copyleft / End User License </h1>
- [MIT](https://github.com/osamhack2022/APP_TAPA_T.I.P/blob/main/LICENSE)

This project is licensed under the terms of the MIT license.
